<style lang="less">
  @import "../style/index.less";
</style>

<template>
  
  <ul class="beers" v-if="user.name">
    <li v-for="(beer, beerIndex) in beers">
      <gwi-beer
        :beer="beer"
        :beer-index="beerIndex"
      ></gwi-beer>
    </li>
  </ul>
</template>

<script>
  import {mapActions, mapGetters} from 'vuex'
  import beer from 'component_beer'
  export default {
    components: {
      'gwi-beer': beer
    },
    data () {
      return {
        activeBeer: ''
      }
    },
    computed: {
      ...mapGetters({
        beers: 'beers',
        user: 'user'
      })
    },
    methods: {
      ...mapActions({
        fetchBeers: 'beers_fetch'
      })
    },
    mounted () {
      this.fetchBeers()
    }
  }
</script>