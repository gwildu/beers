<style lang="less">
  @import "../style/index.less";
</style>

<template>
  <div class="stars">
    <span
      v-for="star in stars"
      @click="updateStars(star.value)"
    >{{star.icon}}</span>
  </div>
</template>

<script>
  export default {
    props: ['value', 'howMany'],
    data () {
      return {
        vote: this.value
      }
    },
    computed: {
      stars () {
        var result = []
        for (var i = 0; i < this.howMany; i++) {
          let adjustedIndex = i + 1
          result.push({value: adjustedIndex, icon: this.vote < adjustedIndex ? '☆' : '★'})
        }
        return result
      }
    },
    methods: {
      updateStars (value) {
        this.vote = value;
        this.$emit('vote', value)
      }
    }
  }
</script>