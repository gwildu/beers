<style lang="less">
  @import "../style/index.less";
</style>

<template>
  <div class="vote">
    <span>Your vote</span>
    <gwi-stars
      :value="value"
      how-many="5"
      @vote="updateVote"
    ></gwi-stars>
    <button
      v-if="false"
      @click="active = true"
    >Vote
    </button>
    <textarea
      v-if="false"
      v-model="userStatement"
      placeholder="You can enter a statement here..."
    ></textarea>
  </div>
</template>

<script>
  import stars from 'element_stars'
  export default {
    props: ['vote'],
    components: {
      'gwi-stars': stars
    },
    data () {
      return {
        value: this.vote ? this.vote.vote : 0,
        active: false,
        userStatement: this.vote ? this.vote.statement : ''
      }
    },
    methods: {
      updateVote ( value ) {
        this.active = false
        this.$emit( 'vote', { vote: value, statement: this.userStatement } )
      }
    }
  }
</script>