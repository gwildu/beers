"use strict";

module.exports = {
  state: {
    id: '',
    name: ''
  },
  getters: {
    user (state) {
      var userId = global.localStorage.gwi_beers_userId
      var userName = global.localStorage.gwi_beers_userName
      if (userId && userName) {
        return {
          id: userId,
          name: userName
        }
      } else {
        return {id: state.id, name: state.name}
      }
    }
  },
  actions: {
    user_set (store, user) {
      store.commit('USER_SET', user)
    }
  },
  mutations: {
    USER_SET (state, user) {
      state.id = user.id
      state.name = user.name
      global.localStorage.gwi_beers_userId = state.id
      global.localStorage.gwi_beers_userName = state.name
    }
  }
}